{"version":3,"sources":["webpack://orev/./node_modules/@ccp-eva/media-recorder/dist/index-umd.js","webpack://orev/./node_modules/detectrtc/DetectRTC.js","webpack://orev/webpack/bootstrap","webpack://orev/webpack/runtime/global","webpack://orev/./src/js/downloadData.js","webpack://orev/./src/js/pause.js","webpack://orev/./src/js/checkForTouchscreen.js","webpack://orev/./src/orev.js","webpack://orev/./src/js/openFullscreen.js"],"names":["self","module","exports","e","d","o","n","t","Object","defineProperty","enumerable","get","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","downloadVideo","m","logMediaDevices","modalContent","openVideoPlayback","a","openVideoPreview","i","startRecorder","c","startStream","stopRecorder","s","stopStream","l","toggleModal","uploadVideo","p","navigator","mediaDevices","enumerateDevices","then","forEach","console","log","kind","toUpperCase","label","deviceId","catch","name","message","window","location","href","indexOf","document","getElementById","style","backgroundColor","display","innerHTML","audio","video","facingMode","frameRate","getUserMedia","localStream","querySelector","srcObject","src","URL","createObjectURL","onloadedmetadata","play","getTracks","stop","mimeType","MediaRecorder","isTypeSupported","error","dataChunks","start","state","ondataavailable","push","data","onstop","blobvid","Blob","type","videoURL","fname","Date","toISOString","replaceAll","replace","uploadContent","uploadColor","successContent","successColor","FormData","append","fetch","method","body","createElement","download","click","remove","head","appendChild","createRange","createContextualFragment","that","browserFakeUserAgent","process","versions","node","browser","version","toString","g","userAgent","protocol","hash","screen","width","height","webkitGetUserMedia","mozGetUserMedia","isMobileDevice","test","isEdge","msSaveOrOpenBlob","msSaveBlob","isOpera","opera","isFirefox","toLowerCase","isSafari","isChrome","chrome","isIE","documentMode","retry","isDone","next","currentTrial","isTimeout","id","setInterval","clearInterval","ua","match","isMobile","Android","BlackBerry","iOS","Opera","Windows","any","getOsName","osName","osVersion","osInfo","cs","nVer","appVersion","nAgt","os","clientStrings","exec","length","detectDesktopOS","isNodejs","isCanvasSupportsStreamCapturing","isVideoSupportsStreamCapturing","item","regexIpv4Local","regexIpv4","regexIpv6","MediaDevices","audioInputDevices","audioOutputDevices","videoInputDevices","callback","canEnumerate","MediaStreamTrack","hasMicrophone","hasSpeakers","hasWebcam","isWebsiteHasMicrophonePermissions","isWebsiteHasWebcamPermissions","DetectRTC","nameOffset","verOffset","ix","browserName","appName","fullVersion","parseFloat","majorVersion","parseInt","split","substring","lastIndexOf","search","isNaN","isPrivateBrowsing","getBrowserInfo","isPrivate","webkitRequestFileSystem","TEMPORARY","indexedDB","db","open","onerror","readyState","result","isIE10OrLater","localStorage","setItem","removeItem","detectPrivateMode","isWebRTCSupported","isORTCSupported","RTCIceGatherer","isScreenCapturingSupported","getDisplayMedia","domain","webAudio","isSupported","isCreateMediaStreamSourceSupported","isAudioContextSupported","isRtpDataChannelsSupported","isSCTPSupportd","isSctpDataChannelsSupported","isGetUserMediaSupported","w","h","displayResolution","displayAspectRatio","gcd","b","toFixed","DetectLocalIPAddress","stream","isPublic","isIpv4","ipDuplicates","RTCPeerConnection","mozRTCPeerConnection","webkitRTCPeerConnection","iframe","win","contentWindow","peerConfig","optional","RtpDataChannels","pc","iceServers","urls","addStream","addTrack","onicecandidate","event","candidate","handleCandidate","createDataChannel","isPromisesSupported","createOffer","setLocalDescription","afterCreateOffer","ipAddress","undefined","localDescription","sdp","line","getIPs","ip","isWebSocketsSupported","WebSocket","CLOSING","isWebSocketsBlocked","checkWebSocketsSupport","starttime","websocket","onopen","getTime","send","onmessage","WebsocketLatency","close","load","getSources","bind","alreadyUsedDevices","devices","_device","device","isCustomLabel","checkDeviceSupport","isSetSinkIdSupported","isRTPSenderReplaceTracksSupported","isRemoteStreamProcessingSupported","isApplyConstraintsSupported","isMultiMonitorScreenCapturingSupported","MediaStream","webkitMediaStream","keys","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","globalThis","this","Function","pause","ms","Promise","resolve","setTimeout","checkForTouchscreen","hasTouchScreen","maxTouchPoints","msMaxTouchPoints","mQ","matchMedia","media","matches","UA","addEventListener","responseLog","meta","subjID","searchParams","order","pathname","pop","touchscreen","webcam","browserVersion","JSON","stringify","safari","iOSSafari","trialNr","t0","t1","allAudios","getElementsByTagName","betweenTrials","button","speaker","headingFullscreen","headingTestsound","handleResponseClick","async","preventDefault","Array","from","img","border","target","timestamp","responseTime","trial","targetWord","chosenWord","chosenCategory","dataset","wordCategory","chosenPosition","classList","handleContinueClick","capture","once","elem","documentElement","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","openFullscreen","setAttribute","querySelectorAll","safe","ID","toSave","day","substr","time","hiddenElement","downloadData","currentTime","currentImages","onended","min","ideal","max","startTrials"],"mappings":"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","file":"orev.js","sourcesContent":["!function(e,o){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=o():\"function\"==typeof define&&define.amd?define([],o):\"object\"==typeof exports?exports.mrec=o():e.mrec=o()}(self,(function(){return(()=>{\"use strict\";var e={d:(o,n)=>{for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{downloadVideo:()=>m,logMediaDevices:()=>n,modalContent:()=>d,openVideoPlayback:()=>a,openVideoPreview:()=>i,startRecorder:()=>c,startStream:()=>r,stopRecorder:()=>s,stopStream:()=>l,toggleModal:()=>t,uploadVideo:()=>p});const n=(e=!0,o=!0,n=!1)=>{navigator.mediaDevices.enumerateDevices().then((t=>{t.forEach((t=>{console.log(`${e&&t.kind.toUpperCase()}, ${o&&t.label}, ${n&&t.deviceId}`)}))})).catch((e=>{console.log(e.name,e.message)}))},t=()=>{window.location.href=-1!==window.location.href.indexOf(\"#greeting-modal\")?\"#\":\"#greeting-modal\"},d=(e=\"<h1>Hi</h1>\",o=\"deeppink\")=>{const n=document.getElementById(\"modal-content\");document.getElementById(\"modal\").style.backgroundColor=o,\"#video-preview\"===e?(document.getElementById(\"video-playback\").style.display=\"none\",n.innerHTML=\"\",document.getElementById(\"video-preview\").style.display=\"block\"):\"#video-playback\"===e?(document.getElementById(\"video-preview\").style.display=\"none\",n.innerHTML=\"\",document.getElementById(\"video-playback\").style.display=\"block\"):(document.getElementById(\"video-preview\").style.display=\"none\",document.getElementById(\"video-playback\").style.display=\"none\",n.innerHTML=e),window.location.href=\"#greeting-modal\"},i=()=>{d(\"#video-preview\",\"white\")},a=()=>{d(\"#video-playback\",\"white\")},r=(e={audio:!0,video:{facingMode:\"user\",frameRate:15}})=>{navigator.mediaDevices.getUserMedia(e).then((e=>{window.localStream=e;const o=document.querySelector(\"#video-preview\");\"srcObject\"in o?o.srcObject=e:o.src=window.URL.createObjectURL(e),o.onloadedmetadata=()=>o.play()})).catch((e=>console.log(e.name,e.message)))},l=()=>{\"localStream\"in window&&window.localStream.getTracks().forEach((e=>e.stop()))},c=(e={audio:!0,video:{facingMode:\"user\"},frameRate:15})=>{let o={mimeType:\"video/webm;codecs=vp9,opus\"};MediaRecorder.isTypeSupported(o.mimeType)||(console.error(`${o.mimeType} is not supported, using vp8`),o={mimeType:\"video/webm;codecs=vp8,opus\"},MediaRecorder.isTypeSupported(o.mimeType)||(console.error(`${o.mimeType} is not supported`),o={mimeType:\"video/webm\"},MediaRecorder.isTypeSupported(o.mimeType)||(console.error(`${o.mimeType} is not supported`),o={mimeType:\"\"}))),navigator.mediaDevices.getUserMedia(e).then((e=>{window.localStream=e;const n=document.querySelector(\"#video-preview\");\"srcObject\"in n?n.srcObject=e:n.src=window.URL.createObjectURL(e),n.onloadedmetadata=()=>n.play(),window.MediaRecorder=new MediaRecorder(window.localStream,o),window.dataChunks=[],window.MediaRecorder.start(),console.log(window.MediaRecorder.state),window.MediaRecorder.ondataavailable=e=>window.dataChunks.push(e.data)})).catch((e=>console.log(e.name,e.message)))},s=()=>{\"MediaRecorder\"in window&&\"recording\"===window.MediaRecorder.state&&(window.MediaRecorder.stop(),console.log(window.MediaRecorder.state),window.MediaRecorder.onstop=()=>{window.blobvid=new Blob(window.dataChunks,{type:\"video/webm\"}),window.dataChunks=[],window.videoURL=window.URL.createObjectURL(window.blobvid),document.getElementById(\"video-playback\").src=window.videoURL}),l()},p=(e,o=\"upload_video.php\")=>{if(window.blobvid){const n={fname:(new Date).toISOString().replaceAll(\":\",\"-\").replace(\".\",\"-\"),uploadContent:\"<h1>Uploading</h1>\",uploadColor:\"coral\",successContent:\"<h1>Successful</h1>\",successColor:\"cyan\",...e};d(n.uploadContent,n.uploadColor);const t=o,i=new FormData;i.append(\"vidfile\",window.blobvid,n.fname),fetch(t,{method:\"POST\",body:i}).then((()=>{d(n.successContent,n.successColor)})).catch(console.error)}else d(\"<h1>No recording was found ðŸ˜”</h1>\",\"PeachPuff\")},m=(e=\"video.webm\")=>{if(window.blobvid){console.log(e);const o=document.createElement(\"a\");o.href=window.videoURL,o.download=e,o.click(),o.remove()}else console.log(\"No video found in window object\")};return(()=>{const e=document.createElement(\"style\");e.innerHTML=\"\\n  /* Greeting Modal Container */\\n  #greeting-modal {\\n    visibility: hidden;\\n    opacity: 0;\\n    transition: all 0.1s cubic-bezier(0.075, 0.82, 0.165, 1);\\n  }\\n  \\n  /* Greeting Modal Container - when open */\\n  #greeting-modal:target {\\n    visibility: visible;\\n    opacity: 1;\\n  }\\n  \\n  /* Greeting Modal */\\n  #greeting-modal #modal {\\n    opacity: 0;\\n    transform: translateY(-1rem);\\n    transition: all 0.1s cubic-bezier(0.075, 0.82, 0.165, 1);\\n    transition-delay: 0.1s;\\n  }\\n  \\n  /* Greeting Modal - when open */\\n  #greeting-modal:target #modal {\\n  transform: translateY(0);\\n  opacity: 1;\\n  }\\n  \\n  /* Modal Container Styles for flex box */\\n  .modal-container {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    backdrop-filter: blur(5px);\\n  }\\n  \\n  /* Modal Background Styles */\\n  .modal-bg {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    background-color: rgba(0, 0, 0, 0.3);\\n    backdrop-filter: blur(5px);\\n  }\\n  \\n  /* Modal Body Styles */\\n  #modal {\\n    z-index: 1;\\n    background-color: white;\\n    width: max-content; /* 500px */\\n    padding: 1rem;\\n    border-radius: 8px;\\n  }\\n  \\n  #modal .close {\\n    position: absolute;\\n    right: -16px;\\n    top: -16px;\\n    width: 32px;\\n    height: 32px;\\n    opacity: 0.3;\\n  }\\n  #modal .close:hover {\\n    opacity: 1;\\n  }\\n\\n  #modal .close:before, .close:after {\\n    position: absolute;\\n    left: 16px;\\n    content: ' ';\\n    height: 34px;\\n    width: 3px;\\n    background-color: #333;\\n  }\\n  #modal .close:before {\\n    transform: rotate(45deg);\\n  }\\n  #modal .close:after {\\n    transform: rotate(-45deg);\\n  }\\n  \\n  \\n\",document.head.appendChild(e);const o=document.createRange().createContextualFragment('\\n  \\x3c!-- Modal container --\\x3e\\n  <div class=\"modal-container\" id=\"greeting-modal\">\\n\\n    \\x3c!-- Modal  --\\x3e\\n    <div id=\"modal\">\\n      <video id=\"video-preview\" muted style=\"display: none;\"></video>\\n      <video id=\"video-playback\" controls style=\"display: none\"></video>\\n      <div id=\"modal-content\"></div>\\n      <a href=\"#\" class=\"close\">\\n    </div>\\n\\n    \\x3c!-- Background, click to close --\\x3e\\n    <a href=\"#\" class=\"modal-bg\"></a>\\n  </div>\\n');document.body.appendChild(o)})(),o})()}));\n//# sourceMappingURL=index-umd.js.map","'use strict';\r\n\r\n// Last Updated On: 2020-08-12 11:18:41 AM UTC\r\n\r\n// ________________\r\n// DetectRTC v1.4.1\r\n\r\n// Open-Sourced: https://github.com/muaz-khan/DetectRTC\r\n\r\n// --------------------------------------------------\r\n// Muaz Khan     - www.MuazKhan.com\r\n// MIT License   - www.WebRTC-Experiment.com/licence\r\n// --------------------------------------------------\r\n\r\n(function() {\r\n\r\n    var browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\r\n\r\n    var isNodejs = typeof process === 'object' && typeof process.versions === 'object' && process.versions.node && /*node-process*/ !process.browser;\r\n    if (isNodejs) {\r\n        var version = process.versions.node.toString().replace('v', '');\r\n        browserFakeUserAgent = 'Nodejs/' + version + ' (NodeOS) AppleWebKit/' + version + ' (KHTML, like Gecko) Nodejs/' + version + ' Nodejs/' + version\r\n    }\r\n\r\n    (function(that) {\r\n        if (typeof window !== 'undefined') {\r\n            return;\r\n        }\r\n\r\n        if (typeof window === 'undefined' && typeof global !== 'undefined') {\r\n            global.navigator = {\r\n                userAgent: browserFakeUserAgent,\r\n                getUserMedia: function() {}\r\n            };\r\n\r\n            /*global window:true */\r\n            that.window = global;\r\n        } else if (typeof window === 'undefined') {\r\n            // window = this;\r\n        }\r\n\r\n        if (typeof location === 'undefined') {\r\n            /*global location:true */\r\n            that.location = {\r\n                protocol: 'file:',\r\n                href: '',\r\n                hash: ''\r\n            };\r\n        }\r\n\r\n        if (typeof screen === 'undefined') {\r\n            /*global screen:true */\r\n            that.screen = {\r\n                width: 0,\r\n                height: 0\r\n            };\r\n        }\r\n    })(typeof global !== 'undefined' ? global : window);\r\n\r\n    /*global navigator:true */\r\n    var navigator = window.navigator;\r\n\r\n    if (typeof navigator !== 'undefined') {\r\n        if (typeof navigator.webkitGetUserMedia !== 'undefined') {\r\n            navigator.getUserMedia = navigator.webkitGetUserMedia;\r\n        }\r\n\r\n        if (typeof navigator.mozGetUserMedia !== 'undefined') {\r\n            navigator.getUserMedia = navigator.mozGetUserMedia;\r\n        }\r\n    } else {\r\n        navigator = {\r\n            getUserMedia: function() {},\r\n            userAgent: browserFakeUserAgent\r\n        };\r\n    }\r\n\r\n    var isMobileDevice = !!(/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(navigator.userAgent || ''));\r\n\r\n    var isEdge = navigator.userAgent.indexOf('Edge') !== -1 && (!!navigator.msSaveOrOpenBlob || !!navigator.msSaveBlob);\r\n\r\n    var isOpera = !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;\r\n    var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1 && ('netscape' in window) && / rv:/.test(navigator.userAgent);\r\n    var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n    var isChrome = !!window.chrome && !isOpera;\r\n    var isIE = typeof document !== 'undefined' && !!document.documentMode && !isEdge;\r\n\r\n    // this one can also be used:\r\n    // https://www.websocket.org/js/stuff.js (DetectBrowser.js)\r\n\r\n    function getBrowserInfo() {\r\n        var nVer = navigator.appVersion;\r\n        var nAgt = navigator.userAgent;\r\n        var browserName = navigator.appName;\r\n        var fullVersion = '' + parseFloat(navigator.appVersion);\r\n        var majorVersion = parseInt(navigator.appVersion, 10);\r\n        var nameOffset, verOffset, ix;\r\n\r\n        // In Opera, the true version is after 'Opera' or after 'Version'\r\n        if (isOpera) {\r\n            browserName = 'Opera';\r\n            try {\r\n                fullVersion = navigator.userAgent.split('OPR/')[1].split(' ')[0];\r\n                majorVersion = fullVersion.split('.')[0];\r\n            } catch (e) {\r\n                fullVersion = '0.0.0.0';\r\n                majorVersion = 0;\r\n            }\r\n        }\r\n        // In MSIE version <=10, the true version is after 'MSIE' in userAgent\r\n        // In IE 11, look for the string after 'rv:'\r\n        else if (isIE) {\r\n            verOffset = nAgt.indexOf('rv:');\r\n            if (verOffset > 0) { //IE 11\r\n                fullVersion = nAgt.substring(verOffset + 3);\r\n            } else { //IE 10 or earlier\r\n                verOffset = nAgt.indexOf('MSIE');\r\n                fullVersion = nAgt.substring(verOffset + 5);\r\n            }\r\n            browserName = 'IE';\r\n        }\r\n        // In Chrome, the true version is after 'Chrome' \r\n        else if (isChrome) {\r\n            verOffset = nAgt.indexOf('Chrome');\r\n            browserName = 'Chrome';\r\n            fullVersion = nAgt.substring(verOffset + 7);\r\n        }\r\n        // In Safari, the true version is after 'Safari' or after 'Version' \r\n        else if (isSafari) {\r\n            // both and safri and chrome has same userAgent\r\n            if (nAgt.indexOf('CriOS') !== -1) {\r\n                verOffset = nAgt.indexOf('CriOS');\r\n                browserName = 'Chrome';\r\n                fullVersion = nAgt.substring(verOffset + 6);\r\n            } else if (nAgt.indexOf('FxiOS') !== -1) {\r\n                verOffset = nAgt.indexOf('FxiOS');\r\n                browserName = 'Firefox';\r\n                fullVersion = nAgt.substring(verOffset + 6);\r\n            } else {\r\n                verOffset = nAgt.indexOf('Safari');\r\n\r\n                browserName = 'Safari';\r\n                fullVersion = nAgt.substring(verOffset + 7);\r\n\r\n                if ((verOffset = nAgt.indexOf('Version')) !== -1) {\r\n                    fullVersion = nAgt.substring(verOffset + 8);\r\n                }\r\n\r\n                if (navigator.userAgent.indexOf('Version/') !== -1) {\r\n                    fullVersion = navigator.userAgent.split('Version/')[1].split(' ')[0];\r\n                }\r\n            }\r\n        }\r\n        // In Firefox, the true version is after 'Firefox' \r\n        else if (isFirefox) {\r\n            verOffset = nAgt.indexOf('Firefox');\r\n            browserName = 'Firefox';\r\n            fullVersion = nAgt.substring(verOffset + 8);\r\n        }\r\n\r\n        // In most other browsers, 'name/version' is at the end of userAgent \r\n        else if ((nameOffset = nAgt.lastIndexOf(' ') + 1) < (verOffset = nAgt.lastIndexOf('/'))) {\r\n            browserName = nAgt.substring(nameOffset, verOffset);\r\n            fullVersion = nAgt.substring(verOffset + 1);\r\n\r\n            if (browserName.toLowerCase() === browserName.toUpperCase()) {\r\n                browserName = navigator.appName;\r\n            }\r\n        }\r\n\r\n        if (isEdge) {\r\n            browserName = 'Edge';\r\n            fullVersion = navigator.userAgent.split('Edge/')[1];\r\n            // fullVersion = parseInt(navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)[2], 10).toString();\r\n        }\r\n\r\n        // trim the fullVersion string at semicolon/space/bracket if present\r\n        if ((ix = fullVersion.search(/[; \\)]/)) !== -1) {\r\n            fullVersion = fullVersion.substring(0, ix);\r\n        }\r\n\r\n        majorVersion = parseInt('' + fullVersion, 10);\r\n\r\n        if (isNaN(majorVersion)) {\r\n            fullVersion = '' + parseFloat(navigator.appVersion);\r\n            majorVersion = parseInt(navigator.appVersion, 10);\r\n        }\r\n\r\n        return {\r\n            fullVersion: fullVersion,\r\n            version: majorVersion,\r\n            name: browserName,\r\n            isPrivateBrowsing: false\r\n        };\r\n    }\r\n\r\n    // via: https://gist.github.com/cou929/7973956\r\n\r\n    function retry(isDone, next) {\r\n        var currentTrial = 0,\r\n            maxRetry = 50,\r\n            interval = 10,\r\n            isTimeout = false;\r\n        var id = window.setInterval(\r\n            function() {\r\n                if (isDone()) {\r\n                    window.clearInterval(id);\r\n                    next(isTimeout);\r\n                }\r\n                if (currentTrial++ > maxRetry) {\r\n                    window.clearInterval(id);\r\n                    isTimeout = true;\r\n                    next(isTimeout);\r\n                }\r\n            },\r\n            10\r\n        );\r\n    }\r\n\r\n    function isIE10OrLater(userAgent) {\r\n        var ua = userAgent.toLowerCase();\r\n        if (ua.indexOf('msie') === 0 && ua.indexOf('trident') === 0) {\r\n            return false;\r\n        }\r\n        var match = /(?:msie|rv:)\\s?([\\d\\.]+)/.exec(ua);\r\n        if (match && parseInt(match[1], 10) >= 10) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function detectPrivateMode(callback) {\r\n        var isPrivate;\r\n\r\n        try {\r\n\r\n            if (window.webkitRequestFileSystem) {\r\n                window.webkitRequestFileSystem(\r\n                    window.TEMPORARY, 1,\r\n                    function() {\r\n                        isPrivate = false;\r\n                    },\r\n                    function(e) {\r\n                        isPrivate = true;\r\n                    }\r\n                );\r\n            } else if (window.indexedDB && /Firefox/.test(window.navigator.userAgent)) {\r\n                var db;\r\n                try {\r\n                    db = window.indexedDB.open('test');\r\n                    db.onerror = function() {\r\n                        return true;\r\n                    };\r\n                } catch (e) {\r\n                    isPrivate = true;\r\n                }\r\n\r\n                if (typeof isPrivate === 'undefined') {\r\n                    retry(\r\n                        function isDone() {\r\n                            return db.readyState === 'done' ? true : false;\r\n                        },\r\n                        function next(isTimeout) {\r\n                            if (!isTimeout) {\r\n                                isPrivate = db.result ? false : true;\r\n                            }\r\n                        }\r\n                    );\r\n                }\r\n            } else if (isIE10OrLater(window.navigator.userAgent)) {\r\n                isPrivate = false;\r\n                try {\r\n                    if (!window.indexedDB) {\r\n                        isPrivate = true;\r\n                    }\r\n                } catch (e) {\r\n                    isPrivate = true;\r\n                }\r\n            } else if (window.localStorage && /Safari/.test(window.navigator.userAgent)) {\r\n                try {\r\n                    window.localStorage.setItem('test', 1);\r\n                } catch (e) {\r\n                    isPrivate = true;\r\n                }\r\n\r\n                if (typeof isPrivate === 'undefined') {\r\n                    isPrivate = false;\r\n                    window.localStorage.removeItem('test');\r\n                }\r\n            }\r\n\r\n        } catch (e) {\r\n            isPrivate = false;\r\n        }\r\n\r\n        retry(\r\n            function isDone() {\r\n                return typeof isPrivate !== 'undefined' ? true : false;\r\n            },\r\n            function next(isTimeout) {\r\n                callback(isPrivate);\r\n            }\r\n        );\r\n    }\r\n\r\n    var isMobile = {\r\n        Android: function() {\r\n            return navigator.userAgent.match(/Android/i);\r\n        },\r\n        BlackBerry: function() {\r\n            return navigator.userAgent.match(/BlackBerry|BB10/i);\r\n        },\r\n        iOS: function() {\r\n            return navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n        },\r\n        Opera: function() {\r\n            return navigator.userAgent.match(/Opera Mini/i);\r\n        },\r\n        Windows: function() {\r\n            return navigator.userAgent.match(/IEMobile/i);\r\n        },\r\n        any: function() {\r\n            return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\r\n        },\r\n        getOsName: function() {\r\n            var osName = 'Unknown OS';\r\n            if (isMobile.Android()) {\r\n                osName = 'Android';\r\n            }\r\n\r\n            if (isMobile.BlackBerry()) {\r\n                osName = 'BlackBerry';\r\n            }\r\n\r\n            if (isMobile.iOS()) {\r\n                osName = 'iOS';\r\n            }\r\n\r\n            if (isMobile.Opera()) {\r\n                osName = 'Opera Mini';\r\n            }\r\n\r\n            if (isMobile.Windows()) {\r\n                osName = 'Windows';\r\n            }\r\n\r\n            return osName;\r\n        }\r\n    };\r\n\r\n    // via: http://jsfiddle.net/ChristianL/AVyND/\r\n    function detectDesktopOS() {\r\n        var unknown = '-';\r\n\r\n        var nVer = navigator.appVersion;\r\n        var nAgt = navigator.userAgent;\r\n\r\n        var os = unknown;\r\n        var clientStrings = [{\r\n            s: 'Chrome OS',\r\n            r: /CrOS/\r\n        }, {\r\n            s: 'Windows 10',\r\n            r: /(Windows 10.0|Windows NT 10.0)/\r\n        }, {\r\n            s: 'Windows 8.1',\r\n            r: /(Windows 8.1|Windows NT 6.3)/\r\n        }, {\r\n            s: 'Windows 8',\r\n            r: /(Windows 8|Windows NT 6.2)/\r\n        }, {\r\n            s: 'Windows 7',\r\n            r: /(Windows 7|Windows NT 6.1)/\r\n        }, {\r\n            s: 'Windows Vista',\r\n            r: /Windows NT 6.0/\r\n        }, {\r\n            s: 'Windows Server 2003',\r\n            r: /Windows NT 5.2/\r\n        }, {\r\n            s: 'Windows XP',\r\n            r: /(Windows NT 5.1|Windows XP)/\r\n        }, {\r\n            s: 'Windows 2000',\r\n            r: /(Windows NT 5.0|Windows 2000)/\r\n        }, {\r\n            s: 'Windows ME',\r\n            r: /(Win 9x 4.90|Windows ME)/\r\n        }, {\r\n            s: 'Windows 98',\r\n            r: /(Windows 98|Win98)/\r\n        }, {\r\n            s: 'Windows 95',\r\n            r: /(Windows 95|Win95|Windows_95)/\r\n        }, {\r\n            s: 'Windows NT 4.0',\r\n            r: /(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/\r\n        }, {\r\n            s: 'Windows CE',\r\n            r: /Windows CE/\r\n        }, {\r\n            s: 'Windows 3.11',\r\n            r: /Win16/\r\n        }, {\r\n            s: 'Android',\r\n            r: /Android/\r\n        }, {\r\n            s: 'Open BSD',\r\n            r: /OpenBSD/\r\n        }, {\r\n            s: 'Sun OS',\r\n            r: /SunOS/\r\n        }, {\r\n            s: 'Linux',\r\n            r: /(Linux|X11)/\r\n        }, {\r\n            s: 'iOS',\r\n            r: /(iPhone|iPad|iPod)/\r\n        }, {\r\n            s: 'Mac OS X',\r\n            r: /Mac OS X/\r\n        }, {\r\n            s: 'Mac OS',\r\n            r: /(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/\r\n        }, {\r\n            s: 'QNX',\r\n            r: /QNX/\r\n        }, {\r\n            s: 'UNIX',\r\n            r: /UNIX/\r\n        }, {\r\n            s: 'BeOS',\r\n            r: /BeOS/\r\n        }, {\r\n            s: 'OS/2',\r\n            r: /OS\\/2/\r\n        }, {\r\n            s: 'Search Bot',\r\n            r: /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\\/Teoma|ia_archiver)/\r\n        }];\r\n        for (var i = 0, cs; cs = clientStrings[i]; i++) {\r\n            if (cs.r.test(nAgt)) {\r\n                os = cs.s;\r\n                break;\r\n            }\r\n        }\r\n\r\n        var osVersion = unknown;\r\n\r\n        if (/Windows/.test(os)) {\r\n            if (/Windows (.*)/.test(os)) {\r\n                osVersion = /Windows (.*)/.exec(os)[1];\r\n            }\r\n            os = 'Windows';\r\n        }\r\n\r\n        switch (os) {\r\n            case 'Mac OS X':\r\n                if (/Mac OS X (10[\\.\\_\\d]+)/.test(nAgt)) {\r\n                    osVersion = /Mac OS X (10[\\.\\_\\d]+)/.exec(nAgt)[1];\r\n                }\r\n                break;\r\n            case 'Android':\r\n                if (/Android ([\\.\\_\\d]+)/.test(nAgt)) {\r\n                    osVersion = /Android ([\\.\\_\\d]+)/.exec(nAgt)[1];\r\n                }\r\n                break;\r\n            case 'iOS':\r\n                if (/OS (\\d+)_(\\d+)_?(\\d+)?/.test(nAgt)) {\r\n                    osVersion = /OS (\\d+)_(\\d+)_?(\\d+)?/.exec(nVer);\r\n                    if (osVersion && osVersion.length > 3) {\r\n                        osVersion = osVersion[1] + '.' + osVersion[2] + '.' + (osVersion[3] | 0);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n\r\n        return {\r\n            osName: os,\r\n            osVersion: osVersion\r\n        };\r\n    }\r\n\r\n    var osName = 'Unknown OS';\r\n    var osVersion = 'Unknown OS Version';\r\n\r\n    function getAndroidVersion(ua) {\r\n        ua = (ua || navigator.userAgent).toLowerCase();\r\n        var match = ua.match(/android\\s([0-9\\.]*)/);\r\n        return match ? match[1] : false;\r\n    }\r\n\r\n    var osInfo = detectDesktopOS();\r\n\r\n    if (osInfo && osInfo.osName && osInfo.osName != '-') {\r\n        osName = osInfo.osName;\r\n        osVersion = osInfo.osVersion;\r\n    } else if (isMobile.any()) {\r\n        osName = isMobile.getOsName();\r\n\r\n        if (osName == 'Android') {\r\n            osVersion = getAndroidVersion();\r\n        }\r\n    }\r\n\r\n    var isNodejs = typeof process === 'object' && typeof process.versions === 'object' && process.versions.node;\r\n\r\n    if (osName === 'Unknown OS' && isNodejs) {\r\n        osName = 'Nodejs';\r\n        osVersion = process.versions.node.toString().replace('v', '');\r\n    }\r\n\r\n    var isCanvasSupportsStreamCapturing = false;\r\n    var isVideoSupportsStreamCapturing = false;\r\n    ['captureStream', 'mozCaptureStream', 'webkitCaptureStream'].forEach(function(item) {\r\n        if (typeof document === 'undefined' || typeof document.createElement !== 'function') {\r\n            return;\r\n        }\r\n\r\n        if (!isCanvasSupportsStreamCapturing && item in document.createElement('canvas')) {\r\n            isCanvasSupportsStreamCapturing = true;\r\n        }\r\n\r\n        if (!isVideoSupportsStreamCapturing && item in document.createElement('video')) {\r\n            isVideoSupportsStreamCapturing = true;\r\n        }\r\n    });\r\n\r\n    var regexIpv4Local = /^(192\\.168\\.|169\\.254\\.|10\\.|172\\.(1[6-9]|2\\d|3[01]))/,\r\n        regexIpv4 = /([0-9]{1,3}(\\.[0-9]{1,3}){3})/,\r\n        regexIpv6 = /[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}/;\r\n\r\n    // via: https://github.com/diafygi/webrtc-ips\r\n    function DetectLocalIPAddress(callback, stream) {\r\n        if (!DetectRTC.isWebRTCSupported) {\r\n            return;\r\n        }\r\n\r\n        var isPublic = true,\r\n            isIpv4 = true;\r\n        getIPs(function(ip) {\r\n            if (!ip) {\r\n                callback(); // Pass nothing to tell that ICE-gathering-ended\r\n            } else if (ip.match(regexIpv4Local)) {\r\n                isPublic = false;\r\n                callback('Local: ' + ip, isPublic, isIpv4);\r\n            } else if (ip.match(regexIpv6)) { //via https://ourcodeworld.com/articles/read/257/how-to-get-the-client-ip-address-with-javascript-only\r\n                isIpv4 = false;\r\n                callback('Public: ' + ip, isPublic, isIpv4);\r\n            } else {\r\n                callback('Public: ' + ip, isPublic, isIpv4);\r\n            }\r\n        }, stream);\r\n    }\r\n\r\n    function getIPs(callback, stream) {\r\n        if (typeof document === 'undefined' || typeof document.getElementById !== 'function') {\r\n            return;\r\n        }\r\n\r\n        var ipDuplicates = {};\r\n\r\n        var RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;\r\n\r\n        if (!RTCPeerConnection) {\r\n            var iframe = document.getElementById('iframe');\r\n            if (!iframe) {\r\n                return;\r\n            }\r\n            var win = iframe.contentWindow;\r\n            RTCPeerConnection = win.RTCPeerConnection || win.mozRTCPeerConnection || win.webkitRTCPeerConnection;\r\n        }\r\n\r\n        if (!RTCPeerConnection) {\r\n            return;\r\n        }\r\n\r\n        var peerConfig = null;\r\n\r\n        if (DetectRTC.browser === 'Chrome' && DetectRTC.browser.version < 58) {\r\n            // todo: add support for older Opera\r\n            peerConfig = {\r\n                optional: [{\r\n                    RtpDataChannels: true\r\n                }]\r\n            };\r\n        }\r\n\r\n        var servers = {\r\n            iceServers: [{\r\n                urls: 'stun:stun.l.google.com:19302'\r\n            }]\r\n        };\r\n\r\n        var pc = new RTCPeerConnection(servers, peerConfig);\r\n\r\n        if (stream) {\r\n            if (pc.addStream) {\r\n                pc.addStream(stream);\r\n            } else if (pc.addTrack && stream.getTracks()[0]) {\r\n                pc.addTrack(stream.getTracks()[0], stream);\r\n            }\r\n        }\r\n\r\n        function handleCandidate(candidate) {\r\n            if (!candidate) {\r\n                callback(); // Pass nothing to tell that ICE-gathering-ended\r\n                return;\r\n            }\r\n\r\n            var match = regexIpv4.exec(candidate);\r\n            if (!match) {\r\n                return;\r\n            }\r\n            var ipAddress = match[1];\r\n            var isPublic = (candidate.match(regexIpv4Local)),\r\n                isIpv4 = true;\r\n\r\n            if (ipDuplicates[ipAddress] === undefined) {\r\n                callback(ipAddress, isPublic, isIpv4);\r\n            }\r\n\r\n            ipDuplicates[ipAddress] = true;\r\n        }\r\n\r\n        // listen for candidate events\r\n        pc.onicecandidate = function(event) {\r\n            if (event.candidate && event.candidate.candidate) {\r\n                handleCandidate(event.candidate.candidate);\r\n            } else {\r\n                handleCandidate(); // Pass nothing to tell that ICE-gathering-ended\r\n            }\r\n        };\r\n\r\n        // create data channel\r\n        if (!stream) {\r\n            try {\r\n                pc.createDataChannel('sctp', {});\r\n            } catch (e) {}\r\n        }\r\n\r\n        // create an offer sdp\r\n        if (DetectRTC.isPromisesSupported) {\r\n            pc.createOffer().then(function(result) {\r\n                pc.setLocalDescription(result).then(afterCreateOffer);\r\n            });\r\n        } else {\r\n            pc.createOffer(function(result) {\r\n                pc.setLocalDescription(result, afterCreateOffer, function() {});\r\n            }, function() {});\r\n        }\r\n\r\n        function afterCreateOffer() {\r\n            var lines = pc.localDescription.sdp.split('\\n');\r\n\r\n            lines.forEach(function(line) {\r\n                if (line && line.indexOf('a=candidate:') === 0) {\r\n                    handleCandidate(line);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    var MediaDevices = [];\r\n\r\n    var audioInputDevices = [];\r\n    var audioOutputDevices = [];\r\n    var videoInputDevices = [];\r\n\r\n    if (navigator.mediaDevices && navigator.mediaDevices.enumerateDevices) {\r\n        // Firefox 38+ seems having support of enumerateDevices\r\n        // Thanks @xdumaine/enumerateDevices\r\n        navigator.enumerateDevices = function(callback) {\r\n            var enumerateDevices = navigator.mediaDevices.enumerateDevices();\r\n            if (enumerateDevices && enumerateDevices.then) {\r\n                navigator.mediaDevices.enumerateDevices().then(callback).catch(function() {\r\n                    callback([]);\r\n                });\r\n            } else {\r\n                callback([]);\r\n            }\r\n        };\r\n    }\r\n\r\n    // Media Devices detection\r\n    var canEnumerate = false;\r\n\r\n    /*global MediaStreamTrack:true */\r\n    if (typeof MediaStreamTrack !== 'undefined' && 'getSources' in MediaStreamTrack) {\r\n        canEnumerate = true;\r\n    } else if (navigator.mediaDevices && !!navigator.mediaDevices.enumerateDevices) {\r\n        canEnumerate = true;\r\n    }\r\n\r\n    var hasMicrophone = false;\r\n    var hasSpeakers = false;\r\n    var hasWebcam = false;\r\n\r\n    var isWebsiteHasMicrophonePermissions = false;\r\n    var isWebsiteHasWebcamPermissions = false;\r\n\r\n    // http://dev.w3.org/2011/webrtc/editor/getusermedia.html#mediadevices\r\n    function checkDeviceSupport(callback) {\r\n        if (!canEnumerate) {\r\n            if (callback) {\r\n                callback();\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (!navigator.enumerateDevices && window.MediaStreamTrack && window.MediaStreamTrack.getSources) {\r\n            navigator.enumerateDevices = window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack);\r\n        }\r\n\r\n        if (!navigator.enumerateDevices && navigator.enumerateDevices) {\r\n            navigator.enumerateDevices = navigator.enumerateDevices.bind(navigator);\r\n        }\r\n\r\n        if (!navigator.enumerateDevices) {\r\n            if (callback) {\r\n                callback();\r\n            }\r\n            return;\r\n        }\r\n\r\n        MediaDevices = [];\r\n\r\n        audioInputDevices = [];\r\n        audioOutputDevices = [];\r\n        videoInputDevices = [];\r\n\r\n        hasMicrophone = false;\r\n        hasSpeakers = false;\r\n        hasWebcam = false;\r\n\r\n        isWebsiteHasMicrophonePermissions = false;\r\n        isWebsiteHasWebcamPermissions = false;\r\n\r\n        // to prevent duplication\r\n        var alreadyUsedDevices = {};\r\n\r\n        navigator.enumerateDevices(function(devices) {\r\n            MediaDevices = [];\r\n\r\n            audioInputDevices = [];\r\n            audioOutputDevices = [];\r\n            videoInputDevices = [];\r\n\r\n            devices.forEach(function(_device) {\r\n                var device = {};\r\n                for (var d in _device) {\r\n                    try {\r\n                        if (typeof _device[d] !== 'function') {\r\n                            device[d] = _device[d];\r\n                        }\r\n                    } catch (e) {}\r\n                }\r\n\r\n                if (alreadyUsedDevices[device.deviceId + device.label + device.kind]) {\r\n                    return;\r\n                }\r\n\r\n                // if it is MediaStreamTrack.getSources\r\n                if (device.kind === 'audio') {\r\n                    device.kind = 'audioinput';\r\n                }\r\n\r\n                if (device.kind === 'video') {\r\n                    device.kind = 'videoinput';\r\n                }\r\n\r\n                if (!device.deviceId) {\r\n                    device.deviceId = device.id;\r\n                }\r\n\r\n                if (!device.id) {\r\n                    device.id = device.deviceId;\r\n                }\r\n\r\n                if (!device.label) {\r\n                    device.isCustomLabel = true;\r\n\r\n                    if (device.kind === 'videoinput') {\r\n                        device.label = 'Camera ' + (videoInputDevices.length + 1);\r\n                    } else if (device.kind === 'audioinput') {\r\n                        device.label = 'Microphone ' + (audioInputDevices.length + 1);\r\n                    } else if (device.kind === 'audiooutput') {\r\n                        device.label = 'Speaker ' + (audioOutputDevices.length + 1);\r\n                    } else {\r\n                        device.label = 'Please invoke getUserMedia once.';\r\n                    }\r\n\r\n                    if (typeof DetectRTC !== 'undefined' && DetectRTC.browser.isChrome && DetectRTC.browser.version >= 46 && !/^(https:|chrome-extension:)$/g.test(location.protocol || '')) {\r\n                        if (typeof document !== 'undefined' && typeof document.domain === 'string' && document.domain.search && document.domain.search(/localhost|127.0./g) === -1) {\r\n                            device.label = 'HTTPs is required to get label of this ' + device.kind + ' device.';\r\n                        }\r\n                    }\r\n                } else {\r\n                    // Firefox on Android still returns empty label\r\n                    if (device.kind === 'videoinput' && !isWebsiteHasWebcamPermissions) {\r\n                        isWebsiteHasWebcamPermissions = true;\r\n                    }\r\n\r\n                    if (device.kind === 'audioinput' && !isWebsiteHasMicrophonePermissions) {\r\n                        isWebsiteHasMicrophonePermissions = true;\r\n                    }\r\n                }\r\n\r\n                if (device.kind === 'audioinput') {\r\n                    hasMicrophone = true;\r\n\r\n                    if (audioInputDevices.indexOf(device) === -1) {\r\n                        audioInputDevices.push(device);\r\n                    }\r\n                }\r\n\r\n                if (device.kind === 'audiooutput') {\r\n                    hasSpeakers = true;\r\n\r\n                    if (audioOutputDevices.indexOf(device) === -1) {\r\n                        audioOutputDevices.push(device);\r\n                    }\r\n                }\r\n\r\n                if (device.kind === 'videoinput') {\r\n                    hasWebcam = true;\r\n\r\n                    if (videoInputDevices.indexOf(device) === -1) {\r\n                        videoInputDevices.push(device);\r\n                    }\r\n                }\r\n\r\n                // there is no 'videoouput' in the spec.\r\n                MediaDevices.push(device);\r\n\r\n                alreadyUsedDevices[device.deviceId + device.label + device.kind] = device;\r\n            });\r\n\r\n            if (typeof DetectRTC !== 'undefined') {\r\n                // to sync latest outputs\r\n                DetectRTC.MediaDevices = MediaDevices;\r\n                DetectRTC.hasMicrophone = hasMicrophone;\r\n                DetectRTC.hasSpeakers = hasSpeakers;\r\n                DetectRTC.hasWebcam = hasWebcam;\r\n\r\n                DetectRTC.isWebsiteHasWebcamPermissions = isWebsiteHasWebcamPermissions;\r\n                DetectRTC.isWebsiteHasMicrophonePermissions = isWebsiteHasMicrophonePermissions;\r\n\r\n                DetectRTC.audioInputDevices = audioInputDevices;\r\n                DetectRTC.audioOutputDevices = audioOutputDevices;\r\n                DetectRTC.videoInputDevices = videoInputDevices;\r\n            }\r\n\r\n            if (callback) {\r\n                callback();\r\n            }\r\n        });\r\n    }\r\n\r\n    var DetectRTC = window.DetectRTC || {};\r\n\r\n    // ----------\r\n    // DetectRTC.browser.name || DetectRTC.browser.version || DetectRTC.browser.fullVersion\r\n    DetectRTC.browser = getBrowserInfo();\r\n\r\n    detectPrivateMode(function(isPrivateBrowsing) {\r\n        DetectRTC.browser.isPrivateBrowsing = !!isPrivateBrowsing;\r\n    });\r\n\r\n    // DetectRTC.isChrome || DetectRTC.isFirefox || DetectRTC.isEdge\r\n    DetectRTC.browser['is' + DetectRTC.browser.name] = true;\r\n\r\n    // -----------\r\n    DetectRTC.osName = osName;\r\n    DetectRTC.osVersion = osVersion;\r\n\r\n    var isNodeWebkit = typeof process === 'object' && typeof process.versions === 'object' && process.versions['node-webkit'];\r\n\r\n    // --------- Detect if system supports WebRTC 1.0 or WebRTC 1.1.\r\n    var isWebRTCSupported = false;\r\n    ['RTCPeerConnection', 'webkitRTCPeerConnection', 'mozRTCPeerConnection', 'RTCIceGatherer'].forEach(function(item) {\r\n        if (isWebRTCSupported) {\r\n            return;\r\n        }\r\n\r\n        if (item in window) {\r\n            isWebRTCSupported = true;\r\n        }\r\n    });\r\n    DetectRTC.isWebRTCSupported = isWebRTCSupported;\r\n\r\n    //-------\r\n    DetectRTC.isORTCSupported = typeof RTCIceGatherer !== 'undefined';\r\n\r\n    // --------- Detect if system supports screen capturing API\r\n    var isScreenCapturingSupported = false;\r\n    if (DetectRTC.browser.isChrome && DetectRTC.browser.version >= 35) {\r\n        isScreenCapturingSupported = true;\r\n    } else if (DetectRTC.browser.isFirefox && DetectRTC.browser.version >= 34) {\r\n        isScreenCapturingSupported = true;\r\n    } else if (DetectRTC.browser.isEdge && DetectRTC.browser.version >= 17) {\r\n        isScreenCapturingSupported = true;\r\n    } else if (DetectRTC.osName === 'Android' && DetectRTC.browser.isChrome) {\r\n        isScreenCapturingSupported = true;\r\n    }\r\n\r\n    if (!!navigator.getDisplayMedia || (navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia)) {\r\n        isScreenCapturingSupported = true;\r\n    }\r\n\r\n    if (!/^(https:|chrome-extension:)$/g.test(location.protocol || '')) {\r\n        var isNonLocalHost = typeof document !== 'undefined' && typeof document.domain === 'string' && document.domain.search && document.domain.search(/localhost|127.0./g) === -1;\r\n        if (isNonLocalHost && (DetectRTC.browser.isChrome || DetectRTC.browser.isEdge || DetectRTC.browser.isOpera)) {\r\n            isScreenCapturingSupported = false;\r\n        } else if (DetectRTC.browser.isFirefox) {\r\n            isScreenCapturingSupported = false;\r\n        }\r\n    }\r\n    DetectRTC.isScreenCapturingSupported = isScreenCapturingSupported;\r\n\r\n    // --------- Detect if WebAudio API are supported\r\n    var webAudio = {\r\n        isSupported: false,\r\n        isCreateMediaStreamSourceSupported: false\r\n    };\r\n\r\n    ['AudioContext', 'webkitAudioContext', 'mozAudioContext', 'msAudioContext'].forEach(function(item) {\r\n        if (webAudio.isSupported) {\r\n            return;\r\n        }\r\n\r\n        if (item in window) {\r\n            webAudio.isSupported = true;\r\n\r\n            if (window[item] && 'createMediaStreamSource' in window[item].prototype) {\r\n                webAudio.isCreateMediaStreamSourceSupported = true;\r\n            }\r\n        }\r\n    });\r\n    DetectRTC.isAudioContextSupported = webAudio.isSupported;\r\n    DetectRTC.isCreateMediaStreamSourceSupported = webAudio.isCreateMediaStreamSourceSupported;\r\n\r\n    // ---------- Detect if SCTP/RTP channels are supported.\r\n\r\n    var isRtpDataChannelsSupported = false;\r\n    if (DetectRTC.browser.isChrome && DetectRTC.browser.version > 31) {\r\n        isRtpDataChannelsSupported = true;\r\n    }\r\n    DetectRTC.isRtpDataChannelsSupported = isRtpDataChannelsSupported;\r\n\r\n    var isSCTPSupportd = false;\r\n    if (DetectRTC.browser.isFirefox && DetectRTC.browser.version > 28) {\r\n        isSCTPSupportd = true;\r\n    } else if (DetectRTC.browser.isChrome && DetectRTC.browser.version > 25) {\r\n        isSCTPSupportd = true;\r\n    } else if (DetectRTC.browser.isOpera && DetectRTC.browser.version >= 11) {\r\n        isSCTPSupportd = true;\r\n    }\r\n    DetectRTC.isSctpDataChannelsSupported = isSCTPSupportd;\r\n\r\n    // ---------\r\n\r\n    DetectRTC.isMobileDevice = isMobileDevice; // \"isMobileDevice\" boolean is defined in \"getBrowserInfo.js\"\r\n\r\n    // ------\r\n    var isGetUserMediaSupported = false;\r\n    if (navigator.getUserMedia) {\r\n        isGetUserMediaSupported = true;\r\n    } else if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n        isGetUserMediaSupported = true;\r\n    }\r\n\r\n    if (DetectRTC.browser.isChrome && DetectRTC.browser.version >= 46 && !/^(https:|chrome-extension:)$/g.test(location.protocol || '')) {\r\n        if (typeof document !== 'undefined' && typeof document.domain === 'string' && document.domain.search && document.domain.search(/localhost|127.0./g) === -1) {\r\n            isGetUserMediaSupported = 'Requires HTTPs';\r\n        }\r\n    }\r\n\r\n    if (DetectRTC.osName === 'Nodejs') {\r\n        isGetUserMediaSupported = false;\r\n    }\r\n    DetectRTC.isGetUserMediaSupported = isGetUserMediaSupported;\r\n\r\n    var displayResolution = '';\r\n    if (screen.width) {\r\n        var width = (screen.width) ? screen.width : '';\r\n        var height = (screen.height) ? screen.height : '';\r\n        displayResolution += '' + width + ' x ' + height;\r\n    }\r\n    DetectRTC.displayResolution = displayResolution;\r\n\r\n    function getAspectRatio(w, h) {\r\n        function gcd(a, b) {\r\n            return (b == 0) ? a : gcd(b, a % b);\r\n        }\r\n        var r = gcd(w, h);\r\n        return (w / r) / (h / r);\r\n    }\r\n\r\n    DetectRTC.displayAspectRatio = getAspectRatio(screen.width, screen.height).toFixed(2);\r\n\r\n    // ----------\r\n    DetectRTC.isCanvasSupportsStreamCapturing = isCanvasSupportsStreamCapturing;\r\n    DetectRTC.isVideoSupportsStreamCapturing = isVideoSupportsStreamCapturing;\r\n\r\n    if (DetectRTC.browser.name == 'Chrome' && DetectRTC.browser.version >= 53) {\r\n        if (!DetectRTC.isCanvasSupportsStreamCapturing) {\r\n            DetectRTC.isCanvasSupportsStreamCapturing = 'Requires chrome flag: enable-experimental-web-platform-features';\r\n        }\r\n\r\n        if (!DetectRTC.isVideoSupportsStreamCapturing) {\r\n            DetectRTC.isVideoSupportsStreamCapturing = 'Requires chrome flag: enable-experimental-web-platform-features';\r\n        }\r\n    }\r\n\r\n    // ------\r\n    DetectRTC.DetectLocalIPAddress = DetectLocalIPAddress;\r\n\r\n    DetectRTC.isWebSocketsSupported = 'WebSocket' in window && 2 === window.WebSocket.CLOSING;\r\n    DetectRTC.isWebSocketsBlocked = !DetectRTC.isWebSocketsSupported;\r\n\r\n    if (DetectRTC.osName === 'Nodejs') {\r\n        DetectRTC.isWebSocketsSupported = true;\r\n        DetectRTC.isWebSocketsBlocked = false;\r\n    }\r\n\r\n    DetectRTC.checkWebSocketsSupport = function(callback) {\r\n        callback = callback || function() {};\r\n        try {\r\n            var starttime;\r\n            var websocket = new WebSocket('wss://echo.websocket.org:443/');\r\n            websocket.onopen = function() {\r\n                DetectRTC.isWebSocketsBlocked = false;\r\n                starttime = (new Date).getTime();\r\n                websocket.send('ping');\r\n            };\r\n            websocket.onmessage = function() {\r\n                DetectRTC.WebsocketLatency = (new Date).getTime() - starttime + 'ms';\r\n                callback();\r\n                websocket.close();\r\n                websocket = null;\r\n            };\r\n            websocket.onerror = function() {\r\n                DetectRTC.isWebSocketsBlocked = true;\r\n                callback();\r\n            };\r\n        } catch (e) {\r\n            DetectRTC.isWebSocketsBlocked = true;\r\n            callback();\r\n        }\r\n    };\r\n\r\n    // -------\r\n    DetectRTC.load = function(callback) {\r\n        callback = callback || function() {};\r\n        checkDeviceSupport(callback);\r\n    };\r\n\r\n    // check for microphone/camera support!\r\n    if (typeof checkDeviceSupport === 'function') {\r\n        // checkDeviceSupport();\r\n    }\r\n\r\n    if (typeof MediaDevices !== 'undefined') {\r\n        DetectRTC.MediaDevices = MediaDevices;\r\n    } else {\r\n        DetectRTC.MediaDevices = [];\r\n    }\r\n\r\n    DetectRTC.hasMicrophone = hasMicrophone;\r\n    DetectRTC.hasSpeakers = hasSpeakers;\r\n    DetectRTC.hasWebcam = hasWebcam;\r\n\r\n    DetectRTC.isWebsiteHasWebcamPermissions = isWebsiteHasWebcamPermissions;\r\n    DetectRTC.isWebsiteHasMicrophonePermissions = isWebsiteHasMicrophonePermissions;\r\n\r\n    DetectRTC.audioInputDevices = audioInputDevices;\r\n    DetectRTC.audioOutputDevices = audioOutputDevices;\r\n    DetectRTC.videoInputDevices = videoInputDevices;\r\n\r\n    // ------\r\n    var isSetSinkIdSupported = false;\r\n    if (typeof document !== 'undefined' && typeof document.createElement === 'function' && 'setSinkId' in document.createElement('video')) {\r\n        isSetSinkIdSupported = true;\r\n    }\r\n    DetectRTC.isSetSinkIdSupported = isSetSinkIdSupported;\r\n\r\n    // -----\r\n    var isRTPSenderReplaceTracksSupported = false;\r\n    if (DetectRTC.browser.isFirefox && typeof mozRTCPeerConnection !== 'undefined' /*&& DetectRTC.browser.version > 39*/ ) {\r\n        /*global mozRTCPeerConnection:true */\r\n        if ('getSenders' in mozRTCPeerConnection.prototype) {\r\n            isRTPSenderReplaceTracksSupported = true;\r\n        }\r\n    } else if (DetectRTC.browser.isChrome && typeof webkitRTCPeerConnection !== 'undefined') {\r\n        /*global webkitRTCPeerConnection:true */\r\n        if ('getSenders' in webkitRTCPeerConnection.prototype) {\r\n            isRTPSenderReplaceTracksSupported = true;\r\n        }\r\n    }\r\n    DetectRTC.isRTPSenderReplaceTracksSupported = isRTPSenderReplaceTracksSupported;\r\n\r\n    //------\r\n    var isRemoteStreamProcessingSupported = false;\r\n    if (DetectRTC.browser.isFirefox && DetectRTC.browser.version > 38) {\r\n        isRemoteStreamProcessingSupported = true;\r\n    }\r\n    DetectRTC.isRemoteStreamProcessingSupported = isRemoteStreamProcessingSupported;\r\n\r\n    //-------\r\n    var isApplyConstraintsSupported = false;\r\n\r\n    /*global MediaStreamTrack:true */\r\n    if (typeof MediaStreamTrack !== 'undefined' && 'applyConstraints' in MediaStreamTrack.prototype) {\r\n        isApplyConstraintsSupported = true;\r\n    }\r\n    DetectRTC.isApplyConstraintsSupported = isApplyConstraintsSupported;\r\n\r\n    //-------\r\n    var isMultiMonitorScreenCapturingSupported = false;\r\n    if (DetectRTC.browser.isFirefox && DetectRTC.browser.version >= 43) {\r\n        // version 43 merely supports platforms for multi-monitors\r\n        // version 44 will support exact multi-monitor selection i.e. you can select any monitor for screen capturing.\r\n        isMultiMonitorScreenCapturingSupported = true;\r\n    }\r\n    DetectRTC.isMultiMonitorScreenCapturingSupported = isMultiMonitorScreenCapturingSupported;\r\n\r\n    DetectRTC.isPromisesSupported = !!('Promise' in window);\r\n\r\n    // version is generated by \"grunt\"\r\n    DetectRTC.version = '1.4.1';\r\n\r\n    if (typeof DetectRTC === 'undefined') {\r\n        window.DetectRTC = {};\r\n    }\r\n\r\n    var MediaStream = window.MediaStream;\r\n\r\n    if (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\r\n        MediaStream = webkitMediaStream;\r\n    }\r\n\r\n    if (typeof MediaStream !== 'undefined' && typeof MediaStream === 'function') {\r\n        DetectRTC.MediaStream = Object.keys(MediaStream.prototype);\r\n    } else DetectRTC.MediaStream = false;\r\n\r\n    if (typeof MediaStreamTrack !== 'undefined') {\r\n        DetectRTC.MediaStreamTrack = Object.keys(MediaStreamTrack.prototype);\r\n    } else DetectRTC.MediaStreamTrack = false;\r\n\r\n    var RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;\r\n\r\n    if (typeof RTCPeerConnection !== 'undefined') {\r\n        DetectRTC.RTCPeerConnection = Object.keys(RTCPeerConnection.prototype);\r\n    } else DetectRTC.RTCPeerConnection = false;\r\n\r\n    window.DetectRTC = DetectRTC;\r\n\r\n    if (typeof module !== 'undefined' /* && !!module.exports*/ ) {\r\n        module.exports = DetectRTC;\r\n    }\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('DetectRTC', [], function() {\r\n            return DetectRTC;\r\n        });\r\n    }\r\n})();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","// ---------------------------------------------------------------------------------------------------------------------\n// FUNCTION FOR DOWNLOADING DATA LOCALLY; WITH BLOB\n// ---------------------------------------------------------------------------------------------------------------------\nexport const downloadData = (safe, ID) => {\n  const toSave = new Blob([JSON.stringify(safe, null, 1)]);\n  const day = new Date().toISOString().substr(0, 10);\n  // note: it's UTC time (so for germany add +1)\n  const time = new Date().toISOString().substr(11, 8);\n\n  const hiddenElement = document.createElement('a');\n  hiddenElement.href = window.URL.createObjectURL(toSave);\n  hiddenElement.download = `orev-demo-${ID}-${day}-${time}.json`;\n  hiddenElement.click();\n};\n","// ---------------------------------------------------------------------------------------------------------------------\n// FUNCTION FOR LETTING THE BROWSER PAUSE/SLEEP\n// with Promise, so that we can wait for it\n// ---------------------------------------------------------------------------------------------------------------------\nexport const pause = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n","// ---------------------------------------------------------------------------------------------------------------------\n// FUNCTION FOR WHETHER USER USES TOUCHSCREEN OR NOT\n// ---------------------------------------------------------------------------------------------------------------------\nexport const checkForTouchscreen = () => {\n  let hasTouchScreen = false;\n  if ('maxTouchPoints' in navigator) {\n    hasTouchScreen = navigator.maxTouchPoints > 0;\n  } else if ('msMaxTouchPoints' in navigator) {\n    hasTouchScreen = navigator.msMaxTouchPoints > 0;\n  } else {\n    const mQ = window.matchMedia && matchMedia('(pointer:coarse)');\n    if (mQ && mQ.media === '(pointer:coarse)') {\n      hasTouchScreen = !!mQ.matches;\n    } else if ('orientation' in window) {\n      hasTouchScreen = true; // deprecated, but good fallback\n    } else {\n      // Only as a last resort, fall back to user agent sniffing\n      const UA = navigator.userAgent;\n      hasTouchScreen =\n        /\\b(BlackBerry|webOS|iPhone|IEMobile)\\b/i.test(UA) ||\n        /\\b(Android|Windows Phone|iPad|iPod)\\b/i.test(UA);\n    }\n  }\n  return hasTouchScreen;\n};\n","import './css/orev.css';\nimport * as mrec from '@ccp-eva/media-recorder';\nimport * as DetectRTC from 'detectrtc';\n\nimport { downloadData } from './js/downloadData.js';\nimport { pause } from './js/pause.js';\n// import { hideURLparams } from './js/hideURLparams.js';\nimport { openFullscreen } from './js/openFullscreen.js';\nimport { checkForTouchscreen } from './js/checkForTouchscreen.js';\nimport { randomizeNewTrials } from './js/randomizeNewTrials.js';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const devmode = false;\n  //------------------------------------------------------------------\n  // create object to save data\n  //------------------------------------------------------------------\n  const responseLog = {\n    // get ID out of URL parameter\n    meta: {\n      subjID:\n        new URL(document.location.href).searchParams.get('ID') || 'testID',\n      order: window.location.pathname.split('/').pop().replace('.html', ''),\n      touchscreen: checkForTouchscreen(),\n      webcam:\n        new URL(document.location.href).searchParams.get('webcam') === 'true' ||\n        false,\n    },\n    data: [],\n  };\n\n  // hide url parameters\n  // hideURLparams();\n\n  //------------------------------------------------------------------\n  // log user testing setup\n  //------------------------------------------------------------------\n  DetectRTC.load(() => {\n    responseLog.meta.os = DetectRTC.osName;\n    responseLog.meta.browser = DetectRTC.browser.name;\n    responseLog.meta.browserVersion = JSON.stringify(DetectRTC.browser.version);\n    responseLog.meta.safari = DetectRTC.browser.isSafari || false;\n    responseLog.meta.iOSSafari =\n      responseLog.meta.touchscreen && responseLog.meta.safari;\n\n    if (devmode) console.log(responseLog.meta);\n  });\n\n  //------------------------------------------------------------------\n  // study variables\n  //------------------------------------------------------------------\n  let trialNr = 0;\n  let t0 = 0;\n  let t1 = 0;\n\n  //------------------------------------------------------------------\n  // get relevant elements\n  //------------------------------------------------------------------\n  const allAudios = document.getElementsByTagName('audio');\n  const betweenTrials = document.getElementById('between-trials');\n  const button = document.getElementById('button-center-item');\n  const speaker = document.getElementById('speaker');\n  const headingFullscreen = document.getElementById('heading-fullscreen');\n  const headingTestsound = document.getElementById('heading-testsound');\n\n  //------------------------------------------------------------------\n  // define response click\n  //------------------------------------------------------------------\n  const handleResponseClick = async (event) => {\n    event.preventDefault();\n\n    t1 = new Date().getTime();\n\n    const currentTrial = document.getElementById(`trial${trialNr - 1}`);\n    const currentImages = Array.from(currentTrial.getElementsByTagName('img'));\n    currentImages.forEach((img) => {\n      img.style.border = '0.3vw solid black';\n    });\n\n    event.target.style.border = '0.3vw solid blue';\n\n    // save response\n    // trial - 2 since array starts at zero (-1) and continue click already advanced trial count (-1)\n    responseLog.data[trialNr - 2] = {\n      timestamp: new Date(parseInt(t1)).toISOString(),\n      responseTime: t1 - t0,\n      trial: trialNr - 1,\n      // split('/').pop(): splits string at / and keeps only last element\n      // then remove N_ and .jpg\n      targetWord: allAudios[trialNr - 1].src\n        .split('/')\n        .pop()\n        .replace('N_', '')\n        .replace('sm_', '')\n        .replace('.mp3', ''),\n      chosenWord: event.target.src\n        .split('/')\n        .pop()\n        .replace('N_', '')\n        .replace('.jpg', ''),\n      chosenCategory: event.target.dataset.wordCategory,\n      chosenPosition: event.target.classList[0],\n    };\n\n    button.addEventListener('click', handleContinueClick, {\n      capture: false,\n      once: true,\n    });\n  };\n\n  //------------------------------------------------------------------\n  // define continue click\n  //------------------------------------------------------------------\n  const handleContinueClick = async (event) => {\n    event.preventDefault();\n\n    if (devmode) {\n      console.log('trialNr', trialNr);\n      console.log(allAudios[trialNr]);\n      console.log(responseLog);\n    }\n\n    // enable fullscreen and have short break, before first trial starts\n    if (trialNr === 0) {\n      if (!devmode & !responseLog.meta.iOSSafari) openFullscreen();\n      headingFullscreen.style.display = 'none';\n      headingTestsound.style.display = 'inline';\n      speaker.setAttribute('visibility', 'visible');\n      await pause(1000);\n      // for safari, first sound needs to happen on user interaction\n      allAudios[trialNr].play();\n\n      await pause(2000);\n\n      button.addEventListener('click', handleContinueClick, {\n        capture: false,\n        once: true,\n      });\n    }\n\n    if (trialNr === document.querySelectorAll('[id^=\"trial\"]').length) {\n      downloadData(responseLog, responseLog.meta.subjID);\n\n      // save the video locally\n      if (!responseLog.meta.iOSSafari && responseLog.meta.webcam) {\n        mrec.stopRecorder();\n\n        // give some time to create Video Blob\n\n        const day = new Date().toISOString().substr(0, 10);\n        const time = new Date().toISOString().substr(11, 8);\n\n        setTimeout(\n          () =>\n            mrec.downloadVideo(\n              `orev-${responseLog.meta.subjID}-${day}-${time}`,\n            ),\n          1000,\n        );\n      }\n\n      await pause(1000);\n\n      window.location.href = `./goodbye.html?ID=${responseLog.meta.subjID}`;\n    }\n\n    // hide last Trial, show background (empty pictures) instead\n    if (trialNr > 0) {\n      headingTestsound.style.display = 'none';\n      // pause audio (that might be playing if speaker item was clicked and prompt was repeated)\n      allAudios[trialNr - 1].pause();\n      allAudios[trialNr - 1].currentTime = 0;\n      const lastTrial = document.getElementById(`trial${trialNr - 1}`);\n      lastTrial.style.display = 'none';\n\n      betweenTrials.style.display = 'flex';\n\n      await pause(150);\n\n      // play audio of current trial\n      allAudios[trialNr].play();\n\n      await pause(0);\n\n      // save response time start point\n      t0 = new Date().getTime();\n\n      betweenTrials.style.display = 'none';\n\n      const currentTrial = document.getElementById(`trial${trialNr}`);\n      currentTrial.style.display = 'flex';\n\n      const currentImages = Array.from(\n        currentTrial.getElementsByTagName('img'),\n      );\n\n      allAudios[trialNr].onended = () => {\n        currentImages.forEach((img) => {\n          img.addEventListener('click', handleResponseClick, {\n            capture: false,\n            once: false,\n          });\n        });\n      };\n    }\n    trialNr++;\n  };\n\n  //------------------------------------------------------------------\n  // define speaker click\n  //------------------------------------------------------------------\n  const handleSpeakerClick = async (event) => {\n    event.preventDefault();\n\n    // use trial - 1 since the trial count already went up in the continue click function\n    // pause audio\n    if (trialNr > 1) {\n      allAudios[trialNr - 1].pause();\n      allAudios[trialNr - 1].currentTime = 0;\n    }\n\n    // play audio of current trial\n    allAudios[trialNr - 1].play();\n  };\n\n  //------------------------------------------------------------------\n  // add eventListeners\n  //------------------------------------------------------------------\n  button.addEventListener('click', handleContinueClick, {\n    capture: false,\n    once: true,\n  });\n\n  speaker.addEventListener('click', handleSpeakerClick, {\n    capture: false,\n    once: false,\n  });\n\n  // ---------------------------------------------------------------------------------------------------------------------\n  // START TRIALS\n  // ---------------------------------------------------------------------------------------------------------------------\n  // browser takes time for webcam permission\n  const startTrials = async () => {\n    await pause(500);\n\n    // ---------------------------------------------------------------------------------------------------------------------\n    // FOR DEMO: Conditional Recording based on URL Params (only if not iOS Safari)\n    // ---------------------------------------------------------------------------------------------------------------------\n    if (!responseLog.meta.iOSSafari && responseLog.meta.webcam) {\n      mrec.startRecorder({\n        audio: true,\n        video: {\n          frameRate: {\n            min: 10,\n            ideal: 25,\n            max: 30,\n          },\n          width: {\n            min: 640,\n            ideal: 1280,\n            max: 1920,\n          },\n          height: {\n            min: 480,\n            ideal: 720,\n            max: 1080,\n          },\n          facingMode: 'user',\n        },\n      });\n    }\n\n    await pause(2500);\n\n    button.style.display = 'inline';\n  };\n  startTrials();\n\n  //------------------------------------------------------------------\n  // randomize new words\n  //------------------------------------------------------------------\n  // console.log(randomizeNewTrials());\n});\n","// ---------------------------------------------------------------------------------------------------------------------\n// FUNCTION FOR ENFORCING FULLSCREEN\n// ---------------------------------------------------------------------------------------------------------------------\nexport const openFullscreen = () => {\n  const elem = document.documentElement;\n  if (elem.requestFullscreen) {\n    elem.requestFullscreen();\n  } else if (elem.webkitRequestFullscreen) {\n    /* Safari */\n    elem.webkitRequestFullscreen();\n  } else if (elem.msRequestFullscreen) {\n    /* IE11 */\n    elem.msRequestFullscreen();\n  }\n};\n"],"sourceRoot":""}